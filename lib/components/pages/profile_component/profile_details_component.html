<div *ngIf="customer == null">
    <div class="row margin-top-medium">
        <div class="col text-center">
            <material-spinner></material-spinner>
        </div>
    </div>
</div>
<div *ngIf="customer != null">
    <div class="row collapse">
        <div class="col">
            <div class="text-center">
                <div>
                    <strong>{{msg.email() | name}}:</strong> {{customer.email}}
                </div>
                <div *ngIf="customer.social_number != null">
                    <strong>{{msg.ssn() | name}}:</strong> {{customer.social_number}}
                </div>
            </div>
            <div class="margin-top-medium">
                <form>
                    <fieldset [disabled]="customerService.loading">
                        <div class="row">
                            <div class="m6 col">
                                <div class="row">
                                    <div class="col">
                                        <material-input [label]="msg.firstname() | name"
                                                        floatingLabel
                                                        [maxCount]="64"
                                                        [(ngModel)]="customer.firstname"
                                                        (change)="patch('firstname', customer.firstname)">
                                        </material-input>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <material-input [label]="msg.lastname() | name"
                                                        floatingLabel
                                                        [maxCount]="64"
                                                        [(ngModel)]="customer.lastname"
                                                        (change)="patch('lastname', customer.lastname)">
                                        </material-input>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="l2 m4 s5 col">
                                        <fo-select [label]="msg.country_code()"
                                                   [options]="countryCodeOptions"
                                                   [selectedId]="customer.phone_country"
                                                   (selectedIdChange)="customer.phone_country = $event; patch('phone_country', $event);">
                                        </fo-select>
                                    </div>
                                    <div class="l10 m8 s7 col">
                                        <material-input label="{{msg.phone()}}"
                                                        floatingLabel
                                                        [maxCount]="32"                                                        
                                                        [(ngModel)]="customer.phone"
                                                        (change)="patch('phone', customer.phone)">
                                        </material-input>
                                    </div>
                                </div>
                            </div>
                            <div class="m6 col">
                                <div class="row">
                                    <div class="m6 col">
                                        <material-input [label]="msg.street() | name"
                                                        floatingLabel
                                                        [maxCount]="64"
                                                        [(ngModel)]="customer.address.street"
                                                        (change)="patch('address.street', customer.address.street)">
                                        </material-input>
                                    </div>
                                    <div class="m6 col">
                                        <material-input [label]="msg.street2() | name"
                                                        floatingLabel
                                                        [maxCount]="64"
                                                        [(ngModel)]="customer.address.street2"
                                                        (change)="patch('address.street2', customer.address.street2)">
                                        </material-input>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="m4 col">
                                        <material-input [label]="msg.postal_code() | name"
                                                        floatingLabel
                                                        [maxCount]="20"
                                                        [(ngModel)]="customer.address.zip"
                                                        (change)="patch('address.zip', customer.address.zip)">
                                        </material-input>
                                    </div>
                                    <div class="m8 col">
                                        <material-input [label]="msg.city() | name"
                                                        floatingLabel
                                                        [maxCount]="64"
                                                        [(ngModel)]="customer.address.city"
                                                        (change)="patch('address.city', customer.address.city)">
                                        </material-input>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col">
                                        <fo-select [label]="msg.country()"
                                                   [options]="countryService.data.values"
                                                   [selectedId]="customer.address.country"
                                                   (selectedIdChange)="customer.address.country = $event; patch('address.country', $event);">
                                        </fo-select>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </form>
            </div>
        </div>
    </div>
</div>